<html>
<head>
  <title>有赞前端技术开发日2018.4.21</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/277494; Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1576"/>
<h1>有赞前端技术开发日2018.4.21</h1>

<div>
<span><div style="box-sizing: border-box; margin: 0px auto; padding: 0px; position: relative; width: 340px; border-top-left-radius: 8px; border-top-right-radius: 8px; border-bottom-right-radius: 8px; border-bottom-left-radius: 8px; text-align: center; color: rgb(43, 43, 43); font-family: &apos;PingFang SC&apos;, &apos;Hiragino Sans GB&apos;, &apos;Microsoft YaHei&apos;, Arial, sans-serif; font-style: normal; font-variant: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 248, 248); font-weight: 300;"><div><span style="font-size: 24px;"><span style="color: rgb(102, 102, 102);"><br/></span></span></div></div><div><span style="font-size: 24px;">活动看点</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">    * 1.多年的积累，一次性和盘托出，诚意满满，与会公司近 80 家</span></div><div><span style="font-size: 24px;">    * 2.分享那些年我们做失败了的技术项目</span></div><div><span style="font-size: 24px;">    * 3.有赞现有的开源项目的总结回顾，包括 Zent、Vant 、ZanUI-Weapp 等</span></div><div><span style="font-size: 24px;">    * 4.我们热衷于做开源项目，分享背后的思考</span></div><div><span style="font-size: 24px;">    * 5.丰富的有赞周边礼品赠送</span></div><div><span style="font-size: 24px;">    * 6.现场有技术彩蛋</span></div><div><span style="font-size: 24px;">会议流程</span></div><div><span style="font-size: 24px;">13:00签到</span></div><div><span style="font-size: 24px;">13:30 - 14:15开场：总结回顾</span></div><div><span style="font-size: 24px;">14:15 - 14:45主题一：有赞的开源项目最佳实践</span></div><div><span style="font-size: 24px;">14:45 - 15:30主题二：本地调试线上代码——ZanProxy</span></div><div><span style="font-size: 24px;">15:30 - 16:00茶歇</span></div><div><span style="font-size: 24px;">16:00 - 16:30主题三：让前后端协作更高效——ZanAPI</span></div><div><span style="font-size: 24px;">16:30 - 17:00主题四：Node 在有赞的实践</span></div><div><span style="font-size: 24px;">17:00 - 17:30主题五：有赞内部代码管理工具串讲</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><b>主题一：有赞的开源项目最佳实践</b></span></div><div><span style="font-size: 24px;">1.README统一规范，自带logo,开源后，方便别人学习和使用，</span></div><div><span style="font-size: 24px;">……</span></div><div><span style="font-size: 24px;">二、.技巧分享</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image.png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">使用ci做一些非测试的自动化工作，比如对测试说样式颜色值的检查</span></div><div><span style="font-size: 24px;">5.更新日志主要手写，机器生成的不方便阅读和维护</span></div><div><span style="font-size: 24px;">6.产品的售后：开源项目的技术博客，答疑群</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">三、工具推荐</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [1].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">2.性能比较差，推荐机器生成+手写</span></div><div><span style="font-size: 24px;">Q&amp;A</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><b>主题二：本地调试线上代码——ZanProxy</b></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [2].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">一、.痛点问题</span></div><div><span style="font-size: 24px;">1.环境问题</span></div><div><span style="font-size: 24px;">场景：</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [3].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">1）本地调是</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [4].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">2）host切换</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [5].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">3）数据Mock</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [6].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><b>ZanProxy主要解决以上三个问题</b></span></div><div><span style="font-size: 24px;"><b>2.演进历程： Mock Only ==》Chome Only（l拦截请求）==》数据流程</b></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [7].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [8].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [9].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [10].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">三、设计与实现</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [11].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [12].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [13].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [14].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">四、后续计划</span></div><div><span style="font-size: 24px;">1.开源zanProxy </span></div><div><span style="font-size: 24px;">2.支持Websocket</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">Q&amp;A</span></div><div><span style="font-size: 24px;">Q1.文件请求的转发和host切换有什么区别</span></div><div><span style="font-size: 24px;">A:浏览器是需要装翻墙的插件，相当于charles的一个代理，可以通过导入一些规则，把js,css文件打到本地直接调试线上的代码</span></div><div><span style="font-size: 24px;">根源：无法在本地模拟服务器线上环境</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">ME: FIddler和charles实现手机上的本地文件代理，之前思考过，是写一个手机插件，然后直接用一个node服务同步文件到手机上。</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><b>主题三：让前后端协作更高效——ZanAPI</b></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">1.协作中给一半会碰到哪些问题</span></div><div><span style="font-size: 24px;">1）文档问题</span></div><div><span style="font-size: 24px;">2）Mock数据问题</span></div><div><span style="font-size: 24px;">3）联调问题</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">2.有赞之前是怎么做的？</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [15].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">1.文档：更新不及时，更新麻烦 ====》可以实现成本为0吗？ 业界方案：swagger，APIBlueprint……</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [16].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;">有赞的做法：</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [17].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [18].png" type="image/png" style="height: auto;"/></span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [19].png" type="image/png" style="height: auto;"/></span></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [20].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [21].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="font-size: 24px;">2.Mock数据：前后端同步滞后</span></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [22].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;">3.联调：沟通</span></div><div><span style="font-size: 24px;"><img src="有赞前端技术开发日2018.4.21_files/Image [23].png" type="image/png" style="height: auto;"/></span></div><div><br/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [24].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [25].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><span style="font-size: 24px;">找一个前后端团队先落地，迭代</span></div><div><span style="font-size: 24px;">跟已有系统对接</span></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [26].png" type="image/png" style="height: auto;"/></div><div><span style="font-size: 24px;">Q&amp;A</span></div><div><span style="font-size: 24px;">Q1：接口权限鉴权</span></div><div><span style="font-size: 24px;">A：讲的是修改的权限，提问是使用者的访问权限和请求合法性校验</span></div><div><span style="font-size: 24px;">Q2: 接口大版本是怎么管理的：</span></div><div><span style="font-size: 24px;">A：接口只会保存最新的一份，版本的timeline待实现</span></div><div><span style="font-size: 24px;">Q3: 后端频繁更改接口，比如改了枚举值，大小写……</span></div><div><span style="font-size: 24px;">A：更新成本大，频繁……（答不在点子上）</span></div><div><span style="font-size: 24px;">Q4: 有赞做法的压制性有点在哪里？</span></div><div><span style="font-size: 24px;">A：</span><span style="font-size: 24px;">swagger方案的不好……（答不在点子上）</span></div><div><span style="font-size: 24px;">提问者希望达到的是想看文件的人出发同步更新，但是讲师一直强调的是只能后端触发，暴露了有赞做法也只能靠口头沟通达成协作默契。</span></div><div><span style="font-size: 24px;"><br/></span></div><div><b><span style="font-size: 24px;">主题四：Node 在有赞的实践</span></b></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [27].png" type="image/png" style="height: auto;"/></div><div>有赞的OA有人。</div><div><img src="有赞前端技术开发日2018.4.21_files/Image [28].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [29].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [30].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [31].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [32].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [33].png" type="image/png" style="height: auto;"/></div><div>node如何调用Java</div><div><img src="有赞前端技术开发日2018.4.21_files/Image [34].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [35].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [36].png" type="image/png" style="height: auto;"/></div><div>方案二</div><div><img src="有赞前端技术开发日2018.4.21_files/Image [37].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [38].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [39].png" type="image/png" style="height: auto;"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [40].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [41].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [42].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [43].png" type="image/png"/></div><div>Q&amp;A</div><div>Q1：node多台机器查故障日志怎么看？</div><div>A：在基础框架收集日志，统一在一个地方看</div><div>Q2: 选node服务中间键KAO，如何选择Express还是KAO？</div><div>A: 一开始擅长KAO就选了KAO，现在主要用KAO2</div><div>Q3:node部署问题，多台服务器部署不影响线上服务</div><div>A:运维提供了发布系统，一个node应用10台，先停2台分批次更新和重启服务</div><div>Q4: node- te-&gt;每一步的日志是如何监控的？</div><div>A: 全链路日志监控</div><div>Q5：node缓存有经验吗？日志打印选型？开发阶段调D接口，并发怎么处理？</div><div>A: 日志在鸡翅框架做了集成收集，本机会记录单一般不会查本机的日志。node不做缓存，下放给底层的Java做。</div><div><br/></div><div><br/></div><div><span style="font-size: 24px;">主题五：有赞内部代码管理工具串讲</span></div><div><span style="font-size: 21px;">出于解决有赞的历史包袱和现有的问题。</span></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [44].png" type="image/png"/></div><div>历史包袱：</div><div><img src="有赞前端技术开发日2018.4.21_files/Image [45].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [46].png" type="image/png"/></div><div>ME：像我们会员约战的项目组</div><div><img src="有赞前端技术开发日2018.4.21_files/Image [47].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [48].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [49].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [50].png" type="image/png"/></div><div><img src="有赞前端技术开发日2018.4.21_files/Image [51].png" type="image/png"/></div><div>Q&amp;A：</div><div>Q!: CodeReview怎么处理不同意见的MR，好的约定的规范是什么</div><div>A: （问题不好，大的人很无奈）单单从代码，eslint规范什么没什么意义</div><div><br/></div><div><b><span style="font-size: 24px;"><br/></span></b></div><div><span style="font-size: 24px;">ME：先不急于推翻现有的繁琐落后方式，提供在几乎不需要学习成本的前提下推新的方式。对新的方式形成一定依赖后逐步推翻旧的方式，这是一个潜移默化的过程。</span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><b><br/></b></span></div><div><span style="font-size: 24px;"><b><br/></b></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><span style="font-size: 24px;"><br/></span></div><div><br/></div></span>
</div></body></html> 